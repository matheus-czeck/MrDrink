<app-mainTemplate>
    <div class="welcome">
        <h1>Agendar eventos</h1>
    </div>
    <div class="content">
        <form [formGroup]="infoEvents" class="options-event">
            <div class="input-group mb-3">
                <span class="input-group-text"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-balloon-heart-fill" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8.49 10.92C19.412 3.382 11.28-2.387 8 .986 4.719-2.387-3.413 3.382 7.51 10.92l-.234.468a.25.25 0 1 0 .448.224l.04-.08c.009.17.024.315.051.45.068.344.208.622.448 1.102l.013.028c.212.422.182.85.05 1.246-.135.402-.366.751-.534 1.003a.25.25 0 0 0 .416.278l.004-.007c.166-.248.431-.646.588-1.115.16-.479.212-1.051-.076-1.629-.258-.515-.365-.732-.419-1.004a2 2 0 0 1-.037-.289l.008.017a.25.25 0 1 0 .448-.224l-.235-.468ZM6.726 1.269c-1.167-.61-2.8-.142-3.454 1.135-.237.463-.36 1.08-.202 1.85.055.27.467.197.527-.071.285-1.256 1.177-2.462 2.989-2.528.234-.008.348-.278.14-.386" />
                    </svg></span>
                <div class="form-floating">
                    <input type="text" class="form-control" id="couple" placeholder="Nome do casal"
                        formControlName="nameCouple">
                    <label for="couple">Nome do casal</label>
                </div>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-calendar-check-fill" viewBox="0 0 16 16">
                        <path
                            d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2m-5.146-5.146-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708" />
                    </svg></span>
                <div class="form-floating">
                    
                    <input type="date" class="form-control" id="date" placeholder="Convidados"
                        formControlName="dateEvent">
                        <label for="date" class="form-label fw-bold label-data-evento">data do evento</label>
                </div>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                        <path
                            d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5" />
                    </svg></span>
                <div class="form-floating">
                    <input type="number" class="form-control" id="guests" placeholder="Convidados"
                        formControlName="amountGuests">
                    <label for="guests">Convidados</label>
                </div>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
                        <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6" />
                    </svg></span>
                <div class="form-floating">
                    <input type="text" class="form-control" id="place" placeholder="Local"
                        formControlName="place">
                    <label for="place">Local</label>
                </div>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-cash-stack" viewBox="0 0 16 16">
                        <path d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1zm7 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4" />
                        <path
                            d="M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V7a2 2 0 0 1-2-2z" />
                    </svg></span>
                <div class="form-floating">
                    <input type="number" class="form-control" id="price" placeholder="Valor orçado"
                        formControlName="value">
                    <label for="price">Valor orçado</label>
                </div>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                        <path
                            d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
                    </svg></span>
                    <select class="form-select" formControlName="menu" >
                        <option selected disabled >Cardápio</option>
                        <option *ngFor="let menu of menuList"  [value]="menu.name">{{menu.name}}</option>
                    </select>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-file-person" viewBox="0 0 16 16">
                        <path
                            d="M12 1a1 1 0 0 1 1 1v10.755S12 11 8 11s-5 1.755-5 1.755V2a1 1 0 0 1 1-1zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                        <path d="M8 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
                    </svg></span>
                    <div class="dropdown">
                        <button class="btn btn-outline-primary dropdown-toggle w-100" type="button" id="dropdownMenuButton"
                          data-bs-toggle="dropdown" aria-expanded="false">
                          Equipe
                        </button>
                        <ul class="dropdown-menu p-3">
                          <li class="form-check" *ngFor="let team of teamList; let i = index">
                            <input id="team-{{i}}" class="form-check-input" type="checkbox"
                              (change)="onTeamCheckboxChange($event, team.name)" [value]="team.name">
                            <label for="team-{{i}}" class="form-check-label">{{team.name}}</label>
                          </li>
                        </ul>
                      </div>
            </div>
            <div class="buttons">
                <div class="d-grid gap-2 col-6 mx-auto ">
                    <button class="btn btn-primary btn-confirm" type="button" (click)="confirmEvent()">Confirmar</button>
                    <button class="btn btn-primary btn-agend" type="button" (click)="scheduleEvent()">Agendar</button>
                </div>
            </div>
        </form>
    </div>


    <div class="option-calendar">
        <h2>Calendário {{selectedYear}}</h2>
        <div class="filter">
            <button *ngFor="let year of years" class="filter-color" [disabled]="selectedYear === year"(click)="onYearChange(year)">
                {{ year }}
              </button>
        </div>
        
        <div class="calendar-container ">
            <div *ngFor="let month of months; let i = index" class="month">
                <h3>{{ month }}</h3>

                <div class="week-days-grid">
                    <span *ngFor="let day of weekDays" class="week-day">{{ day }}</span>
                </div>

                <div class="days-grid">
                    <span 
                    *ngFor="let day of getDaysInMonth(i, selectedYear)" 
                    [ngClass]="{
                        'highlighted-confirmed': getHighlightType(day, i , selectedYear) === 'confirmed',
                        'highlighted-schedule': getHighlightType(day, i , selectedYear) === 'schedule',

                    }"
                    >
                        {{ day === 0 ?  '-' : day}}
                    </span>
                </div>
            </div>
        </div>
    </div>

</app-mainTemplate>